<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KN6QXFQ161"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-KN6QXFQ161');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forecastler – Sitemap</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: url('images/background.png') no-repeat center center fixed;
      background-size: cover;
      color: #333;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    header .logo {
      font-size: 1.5rem;
      font-weight: bold;
    }
    header .language-select span {
      font-size: 1.5rem;
      margin-left: 0.5rem;
      cursor: pointer;
    }
    .main-section {
      background-color: rgba(135, 206, 235, 0.45);
      color: white;
      margin: 2rem auto;
      padding: 2rem;
      max-width: clamp(720px, 90vw, 1100px);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      box-sizing: border-box;
    }
    .illustration {
      text-align: center;
      margin-bottom: 1rem;
    }
    .illustration img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
    }
    .main-section h1,
    .main-section h2 {
      text-align: center;
      margin-bottom: 1rem;
      color: #F0F8FF;
    }
    textarea {
      width: 100%;
      box-sizing: border-box;
      padding: 1rem;
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    #kontekst {
      height: 200px;
      max-height: 400px;
      overflow-y: auto;
    }
    #pitanje {
      height: 100px;
    }
    button {
      background-color: #4b6cb7;
      color: white;
      padding: 0.7rem 1.5rem;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 5px;
    }
    button:hover {
      background-color: #3b5aa6;
    }
    .odgovor-box {
      margin-top: 1rem;
      padding: 1rem;
      background-color: #e2e8f0;
      border-left: 5px solid #4b6cb7;
      color: black;
    }

    body[dir="rtl"] {
      text-align: right;
      direction: rtl;
      font-family: 'Cairo', 'Arial', 'Tahoma', sans-serif;
    }

    body[dir="rtl"] input,
    body[dir="rtl"] textarea {
      text-align: right;
      direction: rtl;
    }

    body[dir="rtl"] li {
      text-align: right;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      flex-wrap: wrap;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo-img {
      height: 42px;
      width: auto;
      border-radius: 50%;
    }

    .site-title {
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
    }

    @media (max-width: 600px) {
      .header-left {
        flex-direction: row;
        justify-content: center;
        width: 100%;
      }

      .site-title {
        font-size: 1.2rem;
      }

      /* === Header menu (hamburger) === */
.menu-wrap{ position: relative; }

      .menu-button{
        display:inline-flex; flex-direction:column; justify-content:center; gap:4px;
        width:42px; height:42px; border:none; border-radius:.6rem;
        background: var(--btn-blue); color:#fff; cursor:pointer;
      }
      .menu-button:hover, .menu-button:focus{ background: var(--btn-blue-hover); outline:none; }

      /* tri vodoravne bele linije */
      .menu-button .bar{
        width:22px; height:2px; background:#fff; display:block; margin:0 auto;
      }

      /* padajuća lista */
      .menu-dropdown{
        position:absolute; top: calc(100% + 8px); right:0; /* poravnanje uz dugme */
        min-width: 180px;
        background: rgba(0,0,0,.9);
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0,0,0,.25);
        padding:.4rem;
        display:none;
        z-index: 1200;
      }
      .menu-dropdown.open{ display:block; }

      .menu-item{
        display:block; padding:.6rem .8rem; border-radius:.5rem;
        color:#fff; text-decoration:none; font-weight:600;
      }
      .menu-item:hover{ background: rgba(255,255,255,.12); }

      /* RTL podrška: padajuće ulevo od dugmeta */
      body[dir="rtl"] .menu-dropdown{ left:0; right:auto; }

      /* Mali ekrani: menu dugme ostaje kompaktno uz logo i naslov */

      @media (max-width:600px){
        .menu-button{ width:40px; height:40px; }
      }

      .menu-container {
        position: relative;
        display: inline-block;
        margin-left: 15px;
      }

      .menu-btn {
        width: 42px;
        height: 42px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: .6rem;
        background: var(--btn-blue);
        color: #fff;
        cursor: pointer;
      }
      .menu-btn:hover,
      .menu-btn:focus {
        background: var(--btn-blue-hover);
        outline: none;
      }

      .menu-dropdown {
        display: none;
        position: absolute;
        top: 40px;
        left: 0;
        background-color: rgba(0,0,0,0.9);
        min-width: 150px;
        z-index: 1000;
        border-radius: 5px;
      }

      .menu-dropdown a {
        color: white;
        padding: 10px 15px;
        text-decoration: none;
        display: block;
      }

      .menu-dropdown a:hover {
        background-color: rgba(255,255,255,0.2);
      }

      .language-select {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 0.5rem;
        width: 100%;
      }

      header {
        flex-direction: column;
        align-items: center;
      }
    }

    :root{
      --btn-blue:#1e3a8a;
      --btn-blue-hover:#172554;
      --chip-ice:#dbeafe;        /* nežno svetlo plava */
      --chip-text:#0f172a;       /* tamnoplava za tekst na ice */
    }

    /* DEFAULT chip */
    .subject-chip{
      display:inline-flex; align-items:center; justify-content:center;
      padding:.45rem .9rem;
      border-radius:9999px;
      background:var(--chip-ice);
      color:var(--chip-text);
      border:2px solid var(--btn-blue);
      font-weight:600;
      cursor:pointer;
      box-shadow:0 1px 0 rgba(0,0,0,.12);
      transition:transform .06s ease, background .15s ease;
    }
    .subject-chip:hover{ transform:translateY(-1px); }

    /* AKTIVNI chip */
    .subject-chip.active{
      background:#0093DD;
      color:#fff;
      border-color:var(--btn-blue);
    }

    :root{
      --btn-blue:#1e3a8a;        /* tamno plava */
      --btn-blue-hover:#172554;  /* tamnija na hover/focus */
    }

    .btn{
      display:inline-flex; align-items:center; gap:.5rem;
      padding:.6rem 1rem; border:none; border-radius:.6rem;
      background:var(--btn-blue); color:#fff; font-weight:600; cursor:pointer;
    }
    .btn:hover, .btn:focus{ background:var(--btn-blue-hover); outline:none }
    .btn:disabled{ opacity:.5; cursor:not-allowed }

    .btn-icon{ width:20px; height:20px; flex:0 0 20px }
    .btn-label{ line-height:1 }

    @media (max-width:640px){
      .btn{ padding:.6rem }      /* kompaktnije */
      .btn-label{ display:none } /* samo ikonice */
    }

    /* Omotač oko textarea da bismo mogli da pozicioniramo ikonice unutra */
    .context-wrap{ position: relative; }

    /* Daj prostora da tekst ne upadne ispod plutajućih dugmadi */
    #kontekst{
      padding-right: 92px;   /* prostor za dve ikonice desno */
      padding-bottom: 56px;  /* malo prostora ispod */
    }

    /* Kontejner za ikonice u dnu textarea */
    .floating-actions{
      position: absolute;
      right: 8px;
      bottom: 8px;
      display: flex;
      gap: 8px;
    }

    /* === Floating SEND unutar drugog placeholdera === */
    .question-wrap { position: relative; }

    /* da tekst ne upada ispod dugmeta */
    #pitanje {
      padding-right: 56px;
      padding-bottom: 56px;
    }

    /* zadržavamo .btn-label zbog prevoda, ali je vizuelno krijemo */
    .icon-btn .btn-label { display: none; }

    /* (opciono) ako želite da u RTL režimu dugme bude dole levo */
    body[dir="rtl"] .question-wrap .floating-actions { left: 8px; right: auto; }

    /* Kompaktno ikonično dugme (u tamno plavoj) */
    .icon-btn{
      width: 42px; height: 42px;
      display: inline-flex; align-items: center; justify-content: center;
      border: none; border-radius: .6rem;
      background: var(--btn-blue); color: #fff; cursor: pointer;
    }
    .icon-btn:hover, .icon-btn:focus{ background: var(--btn-blue-hover); outline: none; }

    /* Ravnanje redova sa dugmadima i fleksibilnim inputom */
    .subject-manager{
      display: grid !important;
      grid-template-columns: auto minmax(160px, 1fr) auto auto;
      gap: .5rem;
      align-items: center;
    }

    /* Input sme da se skupi ispod širine sadržaja */
    #subject-name{
      min-width: 0;
    }

    /* Spreči lomljenje teksta u dugmadi */
    .btn-label{
      white-space: nowrap;
    }

    @media (max-width: 520px){
      .subject-manager{
        grid-template-columns: auto minmax(120px, 1fr) auto auto; /* 4 kolone i na mobilnom */
        column-gap: .4rem;
      }
      .btn{ padding:.5rem .6rem; }           /* kompaktnije dugmadi */
      #subject-name{ min-width: 0; }         /* spreči prelivanje inputa */
    }

    /* === Fix: subject chips na mobilnom da ne zauzimaju punu širinu === */
    #subject-list{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-start;
    }

    .subject-chip{
      flex: 0 0 auto !important;   /* ne rasteži se */
      white-space: nowrap;          /* ne lomi tekst u 2 reda */
      max-width: 100%;
    }

    /* Na malim ekranima malo kompaktnije dugme-čipovi */
    @media (max-width: 600px){
      .subject-chip{
        padding: .4rem .7rem;
        font-size: .95rem;
      }
    }

    /* --- Desktop nav: po difoltu skrivena (mobilni prikaz) --- */
    .desktop-nav{
      display: none;
    }

    /* --- Linkovi u desktop navigaciji --- */
    .desktop-nav a{
      color: #fff;
      text-decoration: none;
      margin: 0 .9rem;
      font-weight: 600;
      line-height: 1;
    }
    .desktop-nav a:hover{
      text-decoration: underline;
    }

    /* --- Desktop raspored (≥ 601px) --- */
    @media (min-width: 601px){
      /* sakrij hamburger na desktopu */
      .menu-container{ display: none; }

      /* centriraj nav u hederu */
      header{
        display:flex;
        align-items:center;
        gap: 1rem;
      }
      .header-left{ /* logo+naslov ostaju levo */
        display:flex; align-items:center; gap:1rem;
      }
      .desktop-nav{
        display:flex;            /* prikaži linkove */
        flex: 1;                 /* zauzmi sredinu */
        justify-content: center; /* centriraj vodoravno */
        gap: .25rem;
      }
      .language-select{
        margin-left: auto;       /* guraj zastavice desno */
        display:flex; align-items:center; gap:.35rem;
      }
    }

    .logo-link { display:inline-flex; align-items:center; padding:4px; }
    .site-title-link { display:inline-block; text-decoration:none; color:inherit; padding:4px; }
    .site-title-link:hover, .site-title-link:focus { text-decoration:underline; }

    /* ubaci u <style> deo stranice ili u globalni CSS */
    .social-footer{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:.75rem;          /* RAZMAK između ikonica */
      margin:.75rem 0;     /* malo vazduha iznad/ispod */
    }
    .social-footer a{
      display:inline-flex;
      width:28px; height:28px;   /* veća “klik zona” */
    }
    .social-footer img{
      width:22px; height:22px;   /* stvarna veličina ikone */
    }

  </style>
</head>
<body>

  <header>
    <div class="header-left">
      <a href="index.html" class="logo-link" aria-label="Go to home">
        <img src="images/transparentlogo.png" alt="Forecastler logo" class="logo-img" />
      </a>
      <a href="index.html" class="site-title-link">Forecastler</a>
      <div class="menu-container">
        <button class="menu-btn" onclick="toggleMenu()">&#9776;</button>
        <div class="menu-dropdown" id="menuDropdown">
          <a id="mnav-home"    href="index.html">Home</a>
          <a id="mnav-about"   href="about.html">About Us</a>
          <a id="mnav-contact" href="contact.html">Contact</a>
          <a id="mnav-blog"    href="blog.html">Blog</a>
        </div>
      </div>
    </div>

    <nav class="desktop-nav" aria-label="Primary">
      <a id="nav-home"    href="index.html">Home</a>
      <a id="nav-about"   href="about.html">About Us</a>
      <a id="nav-contact" href="contact.html">Contact</a>
      <a id="nav-blog"    href="blog.html">Blog</a>
    </nav>

    <div class="language-select">
      <span onclick="setLanguage('ar')"><img src="flags/sa.png" alt="AR" width="24" height="18"></span>
      <span onclick="setLanguage('de')"><img src="flags/de.png" alt="DE" width="24" height="18"></span>
      <span onclick="setLanguage('en')"><img src="flags/gb.png" alt="EN" width="24" height="18"></span>
      <span onclick="setLanguage('es')"><img src="flags/es.png" alt="ES" width="24" height="18"></span>
      <span onclick="setLanguage('fr')"><img src="flags/fr.png" alt="FR" width="24" height="18"></span>
      <span onclick="setLanguage('hi')"><img src="flags/in.png" alt="HI" width="24" height="18"></span>
      <span onclick="setLanguage('it')"><img src="flags/it.png" alt="IT" width="24" height="18"></span>
      <span onclick="setLanguage('ja')"><img src="flags/jp.png" alt="JA" width="24" height="18"></span>
      <span onclick="setLanguage('pl')"><img src="flags/pl.png" alt="PL" width="24" height="18"></span>
      <span onclick="setLanguage('pt')"><img src="flags/pt.png" alt="PT" width="24" height="18"></span>
      <span onclick="setLanguage('ru')"><img src="flags/ru.png" alt="RU" width="24" height="18"></span>
      <span onclick="setLanguage('sr')"><img src="flags/rs.png" alt="SR" width="24" height="18"></span>
      <span onclick="setLanguage('tr')"><img src="flags/tr.png" alt="TR" width="24" height="18"></span>
      <span onclick="setLanguage('uk')"><img src="flags/ua.png" alt="UA" width="24" height="18"></span>
      <span onclick="setLanguage('zh')"><img src="flags/cn.png" alt="ZH" width="24" height="18"></span>
    </div>
  </header>

  <!-- Block 1: Header / search / actions -->
    <div class="main-section">
      <h2 id="sitemap-title">Sitemap</h2>
      <p class="sitemap-muted">Find any public page on Forecastler. Use the search box to filter links.</p>
      <div class="sitemap-actions">
        <label for="sitemap-search" class="sitemap-muted">Quick search</label>
        <input id="sitemap-search" class="sitemap-input" type="search" placeholder="Type to filter… (e.g. privacy, faq, blog)" aria-label="Filter sitemap links" />
        <span class="sitemap-pill" id="last-updated">Last updated: —</span>
        <button id="export-xml" class="sitemap-button" type="button" aria-label="Export XML sitemap">Export XML</button>
        <span class="sitemap-muted" id="counts"></span>
      </div>
    </div>

     <!-- Blocks per group will be injected here -->
     <div id="sitemap-blocks"></div>

  <footer style="padding: 2rem; background-color: rgba(0, 0, 0, 0.6); font-size: 0.95rem; color: white; text-align: center;">
    <div style="margin-bottom: 1rem;">
      <a id="link-disclaimer" href="disclaimer.html" style="margin: 0 0.5rem; color: inherit; text-decoration: none;">Disclaimer</a> |
      <a id="link-terms"      href="terms.html"      style="margin: 0 0.5rem; color: inherit; text-decoration: none;">Terms of Use</a> |
      <a id="link-privacy"    href="privacy.html"    style="margin: 0 0.5rem; color: inherit; text-decoration: none;">Privacy Policy</a> |
      <a id="link-cookies"    href="cookies.html"    style="margin: 0 0.5rem; color: inherit; text-decoration: none;">Cookie Policy</a> |
      <a id="link-sitemap"    href="sitemap.html"    style="margin: 0 0.5rem; color: inherit; text-decoration: none;">Sitemap</a> |
      <a id="link-faq"        href="faq.html"        style="margin: 0 0.5rem; color: inherit; text-decoration: none;">FAQ</a>
    </div>

    <footer class="social-footer">
      <a href="mailto:forecastlerteam@gmail.com" aria-label="Email" title="Email">
        <img
          src="images/icons/email@1x.png"
          srcset="images/icons/email@1x.png 1x, images/icons/email@2x.png 2x"
          width="22" height="22" alt="" loading="lazy" decoding="async">
      </a>

      <a href="https://facebook.com/forecastler" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">
        <img
          src="images/icons/facebook@1x.png"
          srcset="images/icons/facebook@1x.png 1x, images/icons/facebook@2x.png 2x"
          width="22" height="22" alt="" loading="lazy" decoding="async">
      </a>

      <a href="https://instagram.com/forecastler" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
        <img
          src="images/icons/instagram@1x.png"
          srcset="images/icons/instagram@1x.png 1x, images/icons/instagram@2x.png 2x"
          width="22" height="22" alt="" loading="lazy" decoding="async">
      </a>

      <a href="https://youtube.com/@Forecastler" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
        <img
          src="images/icons/youtube@1x.png"
          srcset="images/icons/youtube@1x.png 1x, images/icons/youtube@2x.png 2x"
          width="22" height="22" alt="" loading="lazy" decoding="async">
      </a>

      <a href="https://tiktok.com/@forecastler" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
        <img
          src="images/icons/tiktok@1x.png"
          srcset="images/icons/tiktok@1x.png 1x, images/icons/tiktok@2x.png 2x"
          width="22" height="22" alt="" loading="lazy" decoding="async">
      </a>
    </footer>

    <div>
      Created by Miroslav Ostrogonac, 2025.
    </div>
  </footer>

  <script src="lang-sitemap.js"></script>

  <script>
    const supportedLanguages = [
      'en', 'sr', 'es', 'fr', 'de', 'it', 'pt', 'pl',
      'ru', 'uk', 'tr', 'ar', 'hi', 'zh', 'ja'
    ];

    function detectLanguage() {
      const savedLang = localStorage.getItem('forecastlerLang');
      if (savedLang && supportedLanguages.includes(savedLang)) {
        setLanguage(savedLang);
        return;
      }

      const browserLang = navigator.language.slice(0, 2);
      const fallbackLang = 'en';

      if (supportedLanguages.includes(browserLang)) {
        setLanguage(browserLang);
      } else {
        setLanguage(fallbackLang);
      }
    }

    window.addEventListener('DOMContentLoaded', detectLanguage);

  (function(){
    const btn = document.getElementById('menu-button');
    const dd  = document.getElementById('menu-dropdown');

    if(!btn || !dd) return;

    function closeMenu(){
      dd.classList.remove('open');
      btn.setAttribute('aria-expanded','false');
    }
    function toggleMenu(e){
      e.stopPropagation();
      const isOpen = dd.classList.toggle('open');
      btn.setAttribute('aria-expanded', String(isOpen));
    }

    btn.addEventListener('click', toggleMenu);

    // Zatvaranje na klik van menija
    document.addEventListener('click', (e)=>{
      if(!dd.classList.contains('open')) return;
      const clickedInside = dd.contains(e.target) || btn.contains(e.target);
      if(!clickedInside) closeMenu();
    });

    // Zatvaranje na Escape
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMenu(); });

    // Zatvori nakon klika na stavku menija
    dd.querySelectorAll('.menu-item').forEach(a=>{
      a.addEventListener('click', closeMenu);
    });

    // (opciono) Ako budeš želeo prevod naslova menija:
    // ako u translations[lang].headerLinks postoji, primeni:
    if (typeof T === 'function') {
      const t = T();
      if (t.headerLinks){
        const map = {
          'nav-home':'home',
          'nav-about':'about',
          'nav-contact':'contact',
          'nav-blog':'blog'
        };
        Object.entries(map).forEach(([id,key])=>{
          const el = document.getElementById(id);
          if (el && t.headerLinks[key]) el.textContent = t.headerLinks[key];
        });
      }
    }
  })();

  function toggleMenu() {
    var menu = document.getElementById("menuDropdown");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
  }

  /* Data ------------------------------------------------------------------- */
  const BASE = location.origin;
  const routes = [
    // Core
    { path: "/index.html",  title: "Home",      group: "Core",
      lastmod: "2025-08-24", changefreq: "weekly",  priority: 1.0 },
    { path: "/about.html",  title: "About Us",  group: "Core",
      lastmod: "2025-08-24", changefreq: "monthly", priority: 0.7 },
    { path: "/contact.html",title: "Contact",   group: "Core",
      lastmod: "2025-08-24", changefreq: "monthly", priority: 0.6 },
    { path: "/faq.html",    title: "FAQ",       group: "Core",
      lastmod: "2025-08-24", changefreq: "monthly", priority: 0.6 },

    // Legal
    { path: "/privacy.html",   title: "Privacy Policy", group: "Legal",
      lastmod: "2025-08-24", changefreq: "yearly",  priority: 0.8 },
    { path: "/terms.html",     title: "Terms of Use",   group: "Legal",
      lastmod: "2025-08-24", changefreq: "yearly",  priority: 0.8 },
    { path: "/disclaimer.html",title: "Disclaimer",     group: "Legal",
      lastmod: "2025-08-24", changefreq: "yearly",  priority: 0.6 },
    { path: "/cookies.html",   title: "Cookie Policy",  group: "Legal",
      lastmod: "2025-08-25", changefreq: "yearly",  priority: 0.6 },

    // Blog
    { path: "/blog.html",   title: "Blog",      group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly",  priority: 0.5 },

    // Blog kategorije
    { path: "/blog-planet.html",       title: "Planet",       group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-health.html",       title: "Health",       group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-society.html",      title: "Society",      group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-politics.html",     title: "Politics",     group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-crime.html",        title: "Crime",        group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-economy.html",      title: "Economy",      group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-technology.html",   title: "Technology",   group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-science.html",      title: "Science",      group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-entertainment.html",title: "Entertainment",group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },
    { path: "/blog-sports.html",       title: "Sports",       group: "Blog",
      lastmod: "2025-08-24", changefreq: "weekly", priority: 0.4 },

    // Meta
    { path: "/sitemap.html",title: "Sitemap",   group: "Core",
      lastmod: "2025-08-24", changefreq: "monthly", priority: 0.3 },
  ];

  const groups = [
    { key: "Core",  title: "Main Pages" },
    { key: "Legal", title: "Legal" },
    { key: "Blog",  title: "Blog" },
  ];

  /* Render ----------------------------------------------------------------- */
  function renderBlocks(filter = "") {
    const t = (typeof T === 'function') ? T() : null;                 // NEW
    const root = document.getElementById("sitemap-blocks");
    root.innerHTML = "";
    const f = (filter || "").toLowerCase();
    let total = 0;

    groups.forEach(g => {
      const items = routes
        .filter(r => r.group === g.key)
        .filter(r => !f || r.title.toLowerCase().includes(f) || r.path.toLowerCase().includes(f))
        .sort((a,b) => a.title.localeCompare(b.title));

      if (!items.length) return;
      total += items.length;

      const sec = document.createElement("div");
      sec.className = "main-section";

      // NEW: mapiranje naslova grupa po ključu, preko prevoda
      const groupTitle = t
        ? (g.key === "Core"  ? t.ui.groups.main
           : g.key === "Legal"? t.ui.groups.legal
           : g.key === "Blog" ? t.ui.groups.blog
           : g.title)
        : g.title;

      sec.innerHTML = `<h2>${groupTitle}</h2>`;

      const ul = document.createElement("ul");
      ul.className = "sitemap-list";

      items.forEach(r => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = BASE + r.path;
        a.textContent = r.title;
        a.rel = "nofollow";
        a.referrerPolicy = "no-referrer";
        li.appendChild(a);

        const meta = document.createElement("span");
        meta.className = "sitemap-pill";
        meta.textContent = "lastmod " + r.lastmod;
        li.appendChild(document.createTextNode(" "));
        li.appendChild(meta);

        ul.appendChild(li);
      });

      sec.appendChild(ul);
      root.appendChild(sec);
    });

  // NEW: brojač drži lokalizovani prefiks, broj ostaje isti
    const countsEl = document.getElementById("counts");
    if (countsEl){
      countsEl.textContent = (t ? t.ui.counts : "Listed pages:") + " " + total;
    }

    document.getElementById("counts").textContent = "Listed pages: " + total;
  }

   (function init() {
    // last-updated = max lastmod
    const max = routes.reduce((m, r) => m > r.lastmod ? m : r.lastmod, "1970-01-01");
    document.getElementById("last-updated").textContent = "Last updated: " + max;

    // search
    document.getElementById("sitemap-search").addEventListener("input", e => renderBlocks(e.target.value));

    // export XML
    document.getElementById("export-xml").addEventListener("click", () => {
      const xml = [
        '<?xml version="1.0" encoding="UTF-8"?>',
        '<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',
        ...routes.map(r => [
          '  <url>',
          '    <loc>' + BASE + r.path + '</loc>',
          '    <lastmod>' + r.lastmod + '</lastmod>',
          '    <changefreq>' + r.changefreq + '</changefreq>',
          '    <priority>' + r.priority.toFixed(1) + '</priority>',
          '  </url>'
        ].join('\n')),
        '</urlset>'
      ].join('\n');

      const blob = new Blob([xml], {type: "application/xml"});
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "sitemap.xml";
      a.click();
      URL.revokeObjectURL(a.href);
    });

    renderBlocks();
  })();
  </script>

</body>
</html>
